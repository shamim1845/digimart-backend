"use strict";(self.webpackChunkdigimart_frontend=self.webpackChunkdigimart_frontend||[]).push([[118],{9625:function(n,t,e){var r,i,o,u,a=e(168),c=e(9439),d=e(2791),s=e(8316),l=e(3504),f=e(4603),v=e(5014),m=e(1033),h=e(184),g=function(n){var t=n.product,e=(0,d.useState)(!1),r=(0,c.Z)(e,2),i=r[0],o=r[1],u=(0,d.useState)(0),a=(0,c.Z)(u,2),f=a[0],g=a[1],w=(0,v.Z)(null===t||void 0===t?void 0:t._id),b=w.quantity,Z=w.addToCartHandler;(0,d.useEffect)((function(){b&&g(b)}),[b]);return(0,h.jsxs)(p,{children:[(0,h.jsxs)(l.rU,{to:"/products/".concat(t._id),children:[(0,h.jsx)(y,{children:(0,h.jsx)("img",{src:t.images[0].url,alt:""})}),(0,h.jsxs)(x,{children:[(0,h.jsxs)("div",{className:"price_rating",children:[(0,h.jsx)("div",{className:"price",children:(0,h.jsx)(m.Z,{price:null===t||void 0===t?void 0:t.price})}),(0,h.jsx)(s.Z,{name:"half-rating-read",value:t.avgRatings,precision:.1,readOnly:!0,style:{fontSize:"2rem"}})]}),(0,h.jsx)("div",{className:"title",children:t.name.length>35?(0,h.jsx)("p",{children:"".concat(t.name.slice(0,50),"...")}):(0,h.jsx)("p",{children:t.name})})]})]}),(0,h.jsx)(j,{quantity:b,children:(0,h.jsx)(h.Fragment,{children:b>0?(0,h.jsxs)("div",{className:"btnContainer",children:[(0,h.jsx)("button",{className:"removeBtn",onClick:function(){return Z(b-1)},disabled:0===b,children:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-dash",viewBox:"0 0 16 16",children:(0,h.jsx)("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"})})}),(0,h.jsx)("div",{className:"textElement",children:i?(0,h.jsx)("form",{onSubmit:function(n){n.preventDefault(),Z(f),o(!1)},children:(0,h.jsx)("input",{name:"quantity",type:"number",max:null===t||void 0===t?void 0:t.stock,min:1,value:f,onChange:function(n){return g(n.target.value)}})}):(0,h.jsx)("span",{title:"Double-click to set the quantity",onDoubleClick:function(){return o(!0)},children:b})}),(0,h.jsx)("button",{className:"addBtn",disabled:b>=(null===t||void 0===t?void 0:t.stock),onClick:function(){return Z(b+1)},children:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-plus",viewBox:"0 0 16 16",children:(0,h.jsx)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})})})]}):(0,h.jsxs)("div",{className:"btnContainer emptyBtnContainer",onClick:function(){return Z(b+1)},children:[(0,h.jsx)("div",{className:"textElement",children:(0,h.jsx)("span",{children:b>0?b:"Add"})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{className:"addBtn",children:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-plus",viewBox:"0 0 16 16",children:(0,h.jsx)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})})})})]})})})]})};t.Z=d.memo(g);var p=f.ZP.div(r||(r=(0,a.Z)(["\n  background: #fff;\n  width: 100%;\n  height: 100%;\n  max-height: 40rem;\n  transition: all 0.3s ease-in-out;\n  border-radius: 5px;\n  overflow: hidden;\n  box-shadow: var(--shadow-1);\n\n  &:hover {\n    transform: translateY(-0.6rem);\n    box-shadow: var(--shadow);\n  }\n"]))),y=f.ZP.div(i||(i=(0,a.Z)(["\n  height: 25rem;\n  padding: 1rem 2rem 2rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n"]))),x=f.ZP.div(o||(o=(0,a.Z)(["\n  width: 100%;\n  padding: 1rem 2rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  .price_rating {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    .price {\n      color: var(--text-primary);\n      font-size: 1.6rem;\n      font-weight: 600;\n    }\n  }\n\n  .title {\n    color: var(--text-secondary);\n    font-size: 1.4rem;\n    font-weight: 400;\n    margin: 0.5rem 0;\n    line-height: 1.25;\n  }\n"]))),j=f.ZP.div(u||(u=(0,a.Z)(["\n  padding: 1rem 2rem 2.5rem;\n\n  .btnContainer {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background-color: ",";\n    border-radius: 0.5rem;\n    overflow: hidden;\n\n    button {\n      border: none;\n      outline: none;\n      padding: 1rem;\n      background: none;\n      cursor: pointer;\n      transition: background-color 0.2s ease-in-out;\n\n      &:hover {\n        background-color: #df6550;\n      }\n\n      svg {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        fill: ",";\n      }\n    }\n\n    .textElement {\n      color: ",";\n\n      form {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 100%;\n        user-select: none;\n\n        input {\n          width: 100%;\n          max-width: 8rem;\n          border: none;\n          outline: none;\n          padding-left: 1rem;\n        }\n      }\n    }\n  }\n\n  .emptyBtnContainer {\n    cursor: pointer;\n\n    &:hover {\n      background-color: tomato;\n      color: #fff;\n\n      button {\n        background-color: #df6550;\n        color: #fff;\n      }\n    }\n\n    div {\n      flex: 1;\n      display: flex;\n      justify-content: flex-end;\n      height: 100%;\n    }\n\n    .addBtn {\n      background-color: #e0e1e4;\n      height: 100%;\n      transition: color 0.2s ease-in-out;\n    }\n  }\n"])),(function(n){return n.quantity>0?"tomato":"#eff0f5"}),(function(n){return n.quantity>0?"#fff":""}),(function(n){return n.quantity>0?"#fff":""}))},8802:function(n,t,e){var r,i=e(168),o=(e(2791),e(4603)),u=e(184);t.Z=function(n){var t=n.children;return(0,u.jsx)(a,{children:t})};var a=o.ZP.div(r||(r=(0,i.Z)(["\n  width: 100%;\n  padding: 0 3rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  @media screen and (max-width: 768px) {\n    padding: 0 2rem;\n  }\n  @media screen and (max-width: 576px) {\n    padding: 0 1rem;\n  }\n"])))},2874:function(n,t,e){e.d(t,{i:function(){return r}});var r=[{name:"USD",icon:"$"},{name:"BDT",icon:"\u09f3"},{name:"INR",icon:"\u20b9"}]},5014:function(n,t,e){var r=e(9439),i=e(2791),o=e(8661),u=e(6960),a=e(6871),c=e(9768);t.Z=function(n){var t=(0,i.useState)(0),e=(0,r.Z)(t,2),d=e[0],s=e[1],l=(0,a.s0)(),f=(0,o._0)(),v=f.isSuccess,m=f.data;(0,i.useEffect)((function(){if(v){var t,e=null===m||void 0===m||null===(t=m.carts)||void 0===t?void 0:t.find((function(t){var e;return(null===t||void 0===t||null===(e=t.product)||void 0===e?void 0:e._id)===n}));s(e?null===e||void 0===e?void 0:e.quantity:0)}}),[v,null===m||void 0===m?void 0:m.carts,n]);var h=(0,o.$B)(),g=(0,r.Z)(h,1)[0],p=(0,o.EU)(),y=(0,r.Z)(p,1)[0],x=(0,c.d4)(),j=(0,r.Z)(x,1)[0];return{quantity:d,addToCartHandler:function(t){0===t?y({productId:n}).unwrap().then((function(n){u.Am.info(null===n||void 0===n?void 0:n.message)})).catch((function(n){var t;u.Am.error(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)})):g({productId:n,quantity:t}).unwrap().then((function(n){u.Am.success(null===n||void 0===n?void 0:n.message)})).catch((function(n){var t;u.Am.error(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message),401===(null===n||void 0===n?void 0:n.status)&&setTimeout((function(){l("/login"),window.scrollTo(0,0)}),2e3)}))},addToCartFromFavouriteHandler:function(){g({productId:n,quantity:1}).unwrap().then((function(t){u.Am.success(null===t||void 0===t?void 0:t.message),j({productId:n})})).catch((function(n){var t;u.Am.error(null===(t=n.data)||void 0===t?void 0:t.message)}))},removeFromCartHandler:function(){y({productId:n}).unwrap().then((function(n){u.Am.info(null===n||void 0===n?void 0:n.message)})).catch((function(n){var t;u.Am.error(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)}))}}}},9993:function(n,t,e){var r,i=e(168),o=e(1413),u=(e(2791),e(4603)),a=e(184);t.Z=function(n){var t=n.text,e=void 0===t?"There was an error!":t,r=n.style;return(0,a.jsx)(c,{style:(0,o.Z)({color:"red"},r),children:e})};var c=u.ZP.div(r||(r=(0,i.Z)(["\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  display: flex;\n  align-items: center;\n"])))},2962:function(n,t,e){var r,i=e(168),o=(e(2791),e(4603)),u=e(8361),a=e(184);t.Z=function(n){var t=n.style,e=n.text;return(0,a.jsxs)(c,{style:t,children:[(0,a.jsx)(u.Z,{variant:"h1",text:"Oops!"}),(0,a.jsx)("p",{children:e})]})};var c=o.ZP.div(r||(r=(0,i.Z)(["\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  align-items: center;\n  justify-content: center;\n"])))},1033:function(n,t,e){e.d(t,{Z:function(){return h}});var r=e(9439),i=e(2791),o=e(2978),u=e(9290),a=e(5861),c=e(7757),d=e.n(c),s=e(4418),l=function(){var n=(0,a.Z)(d().mark((function n(t){var e,r,i,o,u;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.amount,r=t.from,i=t.to,"c6ff310e447c4b9fb19f86d026d27056",o=new s.dS("OpenExchangeRates","c6ff310e447c4b9fb19f86d026d27056"),n.next=5,o.convert(e,r,i);case 5:return u=n.sent,n.abrupt("return",u.toFixed(2));case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),f=l,v=e(2874),m=e(184),h=function(n){var t=n.price,e=(0,i.useState)(null),a=(0,r.Z)(e,2),c=a[0],d=a[1],s=(0,o.v9)(u.j);(0,i.useEffect)((function(){f({amount:t,from:"USD",to:s}).then((function(n){d(n)}))}),[s,t]);var l=v.i.find((function(n){return n.name===s}));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("span",{children:[" ",null===l||void 0===l?void 0:l.icon]}),(0,m.jsxs)("span",{children:[" ",c]})]})}},8361:function(n,t,e){var r,i=e(168),o=(e(2791),e(4603)),u=e(184);t.Z=function(n){var t=n.variant,e=void 0===t?"h1":t,r=n.text,i=n.style;return(0,u.jsxs)(a,{children:["h2"===e&&(0,u.jsx)("h2",{style:i,children:r}),"h3"===e&&(0,u.jsx)("h3",{style:i,children:r}),"h1"===e&&(0,u.jsx)("h1",{style:i,children:r}),"h4"===e&&(0,u.jsx)("h4",{style:i,children:r})]})};var a=o.ZP.div(r||(r=(0,i.Z)(["\n  color: var(--text-primary);\n\n  h1 {\n    font-size: 2.4rem;\n  }\n\n  h2 {\n    font-size: 2rem;\n  }\n\n  h3 {\n    font-size: 1.8rem;\n  }\n\n  h4 {\n    font-size: 1.4rem;\n  }\n"])))},8661:function(n,t,e){e.d(t,{_0:function(){return i},$B:function(){return o},EU:function(){return u},OS:function(){return a}});var r=e(4473).Z.injectEndpoints({endpoints:function(n){return{getMyCartList:n.query({query:function(){return{url:"cart"}},providesTags:["getMyCartList"]}),addToCart:n.mutation({query:function(n){return{url:"cart/add",method:"POST",body:n}},invalidatesTags:["getMyCartList"]}),removeFromCart:n.mutation({query:function(n){return{url:"cart/remove",method:"DELETE",body:n}},invalidatesTags:["getMyCartList"]}),removeAllFromCart:n.mutation({query:function(){return{url:"cart/remove/all",method:"DELETE"}},invalidatesTags:["getMyCartList"]})}}}),i=r.useGetMyCartListQuery,o=r.useAddToCartMutation,u=r.useRemoveFromCartMutation,a=r.useRemoveAllFromCartMutation},9768:function(n,t,e){e.d(t,{a2:function(){return i},gb:function(){return o},d4:function(){return u}});var r=e(4473).Z.injectEndpoints({endpoints:function(n){return{getMyFavouriteList:n.query({query:function(){return{url:"favourite"}},providesTags:["getMyFavouriteList"]}),addToFavouriteList:n.mutation({query:function(n){return{url:"favourite/add",method:"POST",body:n}},invalidatesTags:["getMyFavouriteList"]}),removeToFavouriteList:n.mutation({query:function(n){return{url:"favourite/remove",method:"DELETE",body:n}},invalidatesTags:["getMyFavouriteList"]})}}}),i=r.useGetMyFavouriteListQuery,o=r.useAddToFavouriteListMutation,u=r.useRemoveToFavouriteListMutation},8650:function(n,t,e){e.d(t,{C$:function(){return i},lZ:function(){return o},xq:function(){return u},fp:function(){return a},KR:function(){return c},qX:function(){return d},wE:function(){return s}});var r=e(4473).Z.injectEndpoints({endpoints:function(n){return{getProducts:n.query({query:function(n){return{url:"products?".concat(n)}}}),getProduct:n.query({query:function(n){return{url:"product/".concat(n)}}}),deleteProduct:n.mutation({query:function(n){return{url:"admin/product/".concat(n),method:"DELETE"}}}),getNewArivalsCategories:n.query({query:function(){return{url:"products/new-arrivals-categories"}}}),getNewArivals:n.query({query:function(n){var t=n.category,e=n.currentPage;return{url:"products/new-arrivals?category=".concat(t,"&page=").concat(e)}}}),createProduct:n.mutation({query:function(n){return{url:"admin/product/new",method:"POST",body:n}}}),updateProduct:n.mutation({query:function(n){var t=n.id,e=n.product;return{url:"admin/product/".concat(t),method:"PUT",body:e}}})}}}),i=r.useGetProductsQuery,o=r.useGetProductQuery,u=r.useDeleteProductMutation,a=r.useGetNewArivalsCategoriesQuery,c=r.useGetNewArivalsQuery,d=r.useCreateProductMutation,s=r.useUpdateProductMutation},9290:function(n,t,e){e.d(t,{Mb:function(){return r},S8:function(){return i},j:function(){return o}});var r=function(n){return n.user.authenticated},i=function(n){return n.user.userInfo},o=function(n){return n.user.currency}}}]);
//# sourceMappingURL=118.6b71d859.chunk.js.map