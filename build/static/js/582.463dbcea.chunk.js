"use strict";(self.webpackChunkdigimart_frontend=self.webpackChunkdigimart_frontend||[]).push([[582],{6654:function(n,e,r){r.r(e);var i,t,a,o,l,d,u=r(168),s=r(885),c=r(2791),m=r(4569),h=r.n(m),f=r(6960),p=r(4603),v=r(5705),x=r(1089),b=r(2958),g=r(6871),j=r(8361),y=r(2978),Z=r(9290),w=r(5821),_=r(184);e.default=function(){var n,e=(0,c.useState)(!1),r=(0,s.Z)(e,2),i=r[0],t=r[1],a=(0,c.useState)(null),o=(0,s.Z)(a,2),l=o[0],d=o[1],u=(0,c.useState)(!1),m=(0,s.Z)(u,2),p=m[0],z=m[1],A=(0,g.s0)(),E=(0,y.I0)(),I=(0,y.v9)(Z.S8),R=(0,v.TA)({initialValues:{name:(null===I||void 0===I?void 0:I.name)||"",email:(null===I||void 0===I?void 0:I.email)||"",mobile:(null===I||void 0===I?void 0:I.mobile)||"",birthday:(null===I||void 0===I?void 0:I.birthday)||"",gender:(null===I||void 0===I?void 0:I.gender)||""},enableReinitialize:!0,validationSchema:x.Ry({name:x.Z_().required("Name is required.").min(3,"Name must have at least 3 characters."),email:x.Z_().required("Email is required.").email("Email must be a valid email."),mobile:x.Z_().max(11).required("Phone Number is required."),birthday:x.Z_().required("Date of birth is required."),gender:x.Z_().required("Gender  is required.")}),onSubmit:function(n,e){e.resetForm;z(!0);var r=n.name,i=n.email,t=n.mobile,a=n.birthday,o=n.gender;function d(){var n,e,l,d,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s={public_id:null!==(n=u[0])&&void 0!==n&&n.public_id?null===(e=u[0])||void 0===e?void 0:e.public_id:I.avatar.public_id,url:null!==(l=u[0])&&void 0!==l&&l.secure_url?null===(d=u[0])||void 0===d?void 0:d.secure_url:I.avatar.url};h().put("/api/v1/profile/update",{name:r,email:i,avatar:s,mobile:t,birthday:a,gender:o}).then((function(n){200===n.status&&n.data.success?(f.Am.success("Profile update Sucessfully."),E((0,w.$8)()),setTimeout((function(){A("/account/myprofile")}),3e3)):f.Am.info(n.data.message)})).catch((function(n){console.log(n.message),f.Am.error(n.message)}))}l?(0,b.Z)(l).then((function(n){d(n)})):d()}});return(0,_.jsxs)(P,{children:[(0,_.jsx)(j.Z,{variant:"h2",text:"Update Profile",style:{textAlign:"center",marginTop:"2rem"}}),(0,_.jsxs)(C,{children:[(0,_.jsx)(q,{onClick:function(){return t(!0)},children:(0,_.jsx)("img",{src:null===I||void 0===I||null===(n=I.avatar)||void 0===n?void 0:n.url,alt:"profile_picture"})}),(0,_.jsxs)(S,{onSubmit:R.handleSubmit,children:[(0,_.jsxs)(F,{children:[i&&(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{htmlFor:"profilePic",children:"Profile Picture"}),(0,_.jsx)("input",{type:"file",name:"profilePic",onChange:function(n){return d(n.target.files)}})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{htmlFor:"name",children:" Full Name"}),(0,_.jsx)("input",{type:"name",name:"name",onChange:R.handleChange,value:R.values.name}),R.touched.name&&R.errors.name&&(0,_.jsxs)("p",{children:[(0,_.jsx)("span",{children:"i"})," ",R.errors.name," "]})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{htmlFor:"email",children:"Email"}),(0,_.jsx)("input",{type:"email",name:"email",onChange:R.handleChange,value:R.values.email}),R.touched.email&&R.errors.email&&(0,_.jsxs)("p",{children:[(0,_.jsx)("span",{children:"i"})," ",R.errors.email," "]})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{htmlFor:"mobile",children:"Mobile"}),(0,_.jsx)("input",{type:"tel",name:"mobile",onChange:R.handleChange,value:R.values.mobile}),R.touched.mobile&&R.errors.mobile&&(0,_.jsxs)("p",{children:[(0,_.jsx)("span",{children:"i"})," ",R.errors.mobile," "]})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{htmlFor:"birthday",children:"Birthday"}),(0,_.jsx)("input",{type:"date",name:"birthday",onChange:R.handleChange,value:R.values.birthday}),R.touched.birthday&&R.errors.birthday&&(0,_.jsxs)("p",{children:[(0,_.jsx)("span",{children:"i"})," ",R.errors.birthday]})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("label",{htmlFor:"gender",children:"Gender :"}),(0,_.jsxs)("select",{onChange:R.handleChange,value:R.values.gender,name:"gender",children:[(0,_.jsx)("option",{value:"",children:"Choose"}),(0,_.jsx)("option",{value:"male",children:"Male"}),(0,_.jsx)("option",{value:"female",children:"Female"})]}),R.touched.gender&&R.errors.gender&&(0,_.jsxs)("p",{children:[(0,_.jsx)("span",{children:"i"})," ",R.errors.gender," "]})]})]}),(0,_.jsx)(k,{children:(0,_.jsx)("input",{onClick:R.handleSubmit,type:"submit",value:"Update Profile",disabled:p})})]})]})]})};var P=p.ZP.div(i||(i=(0,u.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 2rem;\n  width: 100%;\n  max-width: 800px;\n  margin-bottom: 3rem;\n"]))),C=p.ZP.div(t||(t=(0,u.Z)(["\n  border-radius: 0.5rem;\n  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n  padding: 5rem;\n  margin: 2rem;\n  width: 90%;\n  @media screen and (max-width: 768px) {\n    margin: 0 5rem;\n  }\n  @media screen and (max-width: 576px) {\n    padding: 2rem;\n  }\n"]))),q=p.ZP.div(a||(a=(0,u.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 2rem;\n  margin-bottom: 2rem;\n  &:hover {\n    cursor: pointer;\n  }\n\n  img {\n    width: 13rem;\n    height: 13rem;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n"]))),S=p.ZP.form(o||(o=(0,u.Z)(["\n  width: 100%;\n  height: 100%;\n"]))),F=p.ZP.div(l||(l=(0,u.Z)(['\n  div {\n    margin: 1rem 0;\n    & label {\n      font-size: 1.3rem;\n      color: var(--text-secondary);\n    }\n\n    & input {\n      width: 100%;\n      height: 3.5rem;\n      padding: 0 1rem;\n      border: none;\n      outline: none;\n      &:focus {\n        box-shadow: rgba(50, 50, 93, 0.25) 0px 2px 5px -1px,\n          rgba(0, 0, 0, 0.3) 0px 1px 3px -1px;\n      }\n      &::placeholder {\n        padding-left: 0.5rem;\n        font-size: 1.3rem;\n      }\n    }\n    & input[type="file"] {\n      padding: 0.5rem 0;\n    }\n\n    p {\n      font-size: 1.1rem;\n      span {\n        font-style: italic;\n        color: tomato;\n        margin: 1.3rem 0.4rem 0 0;\n        font-weight: 700;\n        font-size: 1.3rem;\n      }\n    }\n  }\n']))),k=p.ZP.div(d||(d=(0,u.Z)(["\n  & input {\n    font-size: 1.3rem;\n    border: none;\n    background-color: var(--bg-primary);\n    padding: 1rem 2rem;\n    border-radius: 5px;\n    margin-bottom: 1rem;\n    cursor: pointer;\n    transition: all 0.5s;\n    &:hover {\n      color: #fff;\n      background-color: #ff6347f6;\n    }\n  }\n"])))},2958:function(n,e,r){var i=r(5861),t=r(7757),a=r.n(t),o=r(4569),l=r.n(o),d=function(){var n=(0,i.Z)(a().mark((function n(e){var r,i,t,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(r=[],i=0;i<e.length;i++)r.push(e[i]);return t=r.map((function(n){return new Promise((function(e,r){var i=new FileReader;i.readAsDataURL(n),i.onload=function(r){var i=n.name.split(".")[0];e({base64:r.target.result,options:{public_id:i,tags:[i]}})}}))})),n.next=5,Promise.all(t);case 5:return o=n.sent,n.abrupt("return",new Promise((function(n,e){l().post("/api/v1/media/uploadImage",{images:o}).then((function(e){n(e.data.urls)})).catch((function(n){e(n)}))})));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();e.Z=d},8361:function(n,e,r){var i,t=r(168),a=(r(2791),r(4603)),o=r(184);e.Z=function(n){var e=n.variant,r=void 0===e?"h1":e,i=n.text,t=n.style;return(0,o.jsxs)(l,{style:t,children:["h1"===r&&(0,o.jsx)("h1",{children:i}),"h2"===r&&(0,o.jsx)("h2",{children:i}),"h3"===r&&(0,o.jsx)("h3",{children:i})]})};var l=a.ZP.div(i||(i=(0,t.Z)(["\n  width: 100%;\n  color: var(--text-primary);\n\n  h1 {\n    font-size: 2.4rem;\n    font-weight: 500;\n  }\n\n  h2 {\n    font-size: 2rem;\n    font-weight: 500;\n  }\n"])))},9290:function(n,e,r){r.d(e,{Mb:function(){return t},S8:function(){return a},D1:function(){return o},jE:function(){return l},dq:function(){return d}});var i=r(873),t=function(n){return n.user.authenticated},a=function(n){return n.user.userInfo},o=function(n){return n.user.cartItems},l=function(n){return n.user.favouriteItems},d=function(){return(0,i.createSelector)(o,(function(n,e){return e}),(function(n,e){var r=null===n||void 0===n?void 0:n.find((function(n){var r;return(null===(r=n.product)||void 0===r?void 0:r._id)===e}));return r?null===r||void 0===r?void 0:r.quantity:0}))}},7326:function(n,e,r){function i(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}r.d(e,{Z:function(){return i}})},9611:function(n,e,r){function i(n,e){return i=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},i(n,e)}r.d(e,{Z:function(){return i}})}}]);
//# sourceMappingURL=582.463dbcea.chunk.js.map