{"version":3,"file":"static/js/214.1c903b0b.chunk.js","mappings":"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","sources":["components/Auth/Login.js","components/utils/formik/TextInput.jsx","components/utils/reUseableComponents/Buttons.jsx","components/utils/reUseableComponents/Title.jsx","components/utils/validationUtils/ValidationError.jsx","../javascript/esm|/media/shamim/Document/MERN ECOMMERCR PROJECT/my-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../javascript/esm|/media/shamim/Document/MERN ECOMMERCR PROJECT/my-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../javascript/esm|/media/shamim/Document/MERN ECOMMERCR PROJECT/my-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../javascript/esm|/media/shamim/Document/MERN ECOMMERCR PROJECT/my-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport axiox from \"axios\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { Formik, Form } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Title from \"../utils/reUseableComponents/Title\";\r\nimport Button from \"../utils/reUseableComponents/Buttons\";\r\nimport TextInput from \"../utils/formik/TextInput\";\r\n\r\nconst Login = () => {\r\n  const [nextRouteIsAdmin, setNextRouteIsAdmin] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const redirectPath = location.state?.path || \"/products\";\r\n  const {\r\n    authenticated,\r\n    userInfo: { role },\r\n  } = useSelector((state) => state.user);\r\n\r\n  // If user already authenticated navigate to the redirectPath\r\n  useEffect(() => {\r\n    if (!authenticated) return;\r\n    if (!redirectPath.includes(\"admin\")) {\r\n      return navigate(redirectPath);\r\n    }\r\n\r\n    if (role === \"admin\") {\r\n      return navigate(redirectPath);\r\n    } else {\r\n      setNextRouteIsAdmin(true);\r\n    }\r\n  }, [authenticated, redirectPath, navigate, role]);\r\n\r\n  return (\r\n    <Container>\r\n      <FormContainer>\r\n        <Title text={`Sign In ${nextRouteIsAdmin ? \"as an Admin\" : \"\"} `} />\r\n\r\n        <Formik\r\n          initialValues={{\r\n            email: \"\",\r\n            password: \"\",\r\n          }}\r\n          validationSchema={yup.object({\r\n            email: yup\r\n              .string()\r\n              .email(\"Email must be a valid email.\")\r\n              .required(\"Email is required.\"),\r\n            password: yup\r\n              .string()\r\n              .min(8, \"Password must have at least 8 characters.\")\r\n              .required(\"Password is required.\"),\r\n          })}\r\n          onSubmit={(values, { resetForm }) => {\r\n            const { email, password } = values;\r\n\r\n            axiox\r\n              .post(`/api/v1/login`, { email, password })\r\n              .then((res) => {\r\n                if (res.status === 200) {\r\n                  toast.success(\"Login successfull.\");\r\n\r\n                  setTimeout(() => {\r\n                    navigate(redirectPath, { replace: true });\r\n                    window.location.reload();\r\n                  }, 2000);\r\n                } else {\r\n                  toast.error(\"Invalid login credentials.\");\r\n                }\r\n              })\r\n              .catch((err) => {\r\n                toast.error(\r\n                  err?.response?.data?.message || \"Invalid login credentials.\"\r\n                );\r\n                console.error(err);\r\n              });\r\n          }}\r\n        >\r\n          <Form>\r\n            <TextInput\r\n              label=\"Email\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Enter Your Email\"\r\n            />\r\n            <TextInput\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Enter your password\"\r\n            />\r\n\r\n            <Button type=\"submit\" text=\"Login\" />\r\n          </Form>\r\n        </Formik>\r\n\r\n        <Message>\r\n          <p>\r\n            By continuing, you are agree to DIGIMART's{\" \"}\r\n            <Link to={\"/conditions\"}> Conditions of Use </Link>and{\" \"}\r\n            <Link to={\"/privacy-policy\"}> Privacy Notice.</Link>\r\n          </p>\r\n          <Link to={\"/password/forgot\"}> Forgot your password?</Link>\r\n        </Message>\r\n      </FormContainer>\r\n\r\n      <ButtonContainer>\r\n        <div>\r\n          <p>New to DIGIMART?</p>\r\n          <Link to={\"/register\"}>Create Your Account</Link>\r\n        </div>\r\n      </ButtonContainer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 50rem;\r\n  margin: 5rem auto;\r\n  padding: 1rem;\r\n\r\n  @media screen and (max-width: 576px) {\r\n    margin: 2rem auto;\r\n  }\r\n`;\r\n\r\nconst FormContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 2rem;\r\n  padding: 3rem;\r\n  box-shadow: var(--shadow-1);\r\n  border-radius: 5px;\r\n\r\n  form {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst Message = styled.div`\r\n  margin: 1rem 0;\r\n  p {\r\n    color: var(--text-secondary);\r\n\r\n    margin-bottom: 1rem;\r\n  }\r\n  a {\r\n    transition: all 0.3s ease-in-out;\r\n  }\r\n  a:hover {\r\n    color: tomato;\r\n    text-decoration: underline;\r\n  }\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  margin: 3rem;\r\n  width: 100%;\r\n  div {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n\r\n    & p {\r\n      margin: 1rem 0;\r\n    }\r\n    & a {\r\n      text-align: center;\r\n      border: 1px solid var(--text-primary);\r\n      width: 100%;\r\n      border-radius: 3px;\r\n      padding: 1rem;\r\n      transition: all 0.3s ease-in-out;\r\n      &:hover {\r\n        box-shadow: rgba(0, 0, 0, 0.1) 0px -50px 36px -30px inset;\r\n        color: tomato;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { useField } from \"formik\";\nimport styled from \"styled-components\";\nimport ValidationError from \"../validationUtils/ValidationError\";\n\nconst TextInput = ({ label, ...props }) => {\n  // useField() returns [formik.getFieldProps(), formik.getFieldMeta()]\n  // which we can spread on <input>. We can use field meta to show an error\n  // message if the field is invalid and it has been touched (i.e. visited)\n  const [field, meta] = useField(props);\n  return (\n    <InputGroup>\n      <label htmlFor={props.id || props.name}>{label}</label>\n      <input {...field} {...props} />\n      {meta.touched && meta.error && <ValidationError message={meta.error} />}\n    </InputGroup>\n  );\n};\n\nexport default TextInput;\n\nconst InputGroup = styled.div`\n  width: 100%;\n  margin-bottom: 2rem;\n\n  label {\n    color: var(--text-secondary);\n    font-size: 1.3rem;\n  }\n  input {\n    background: #fff;\n    color: var(--text-primary);\n    width: 100%;\n    height: 4rem;\n    padding: 0 1rem;\n    margin-top: 0.5rem;\n    border: none;\n    outline: none;\n    font-size: 1.3rem;\n    border-radius: 2px;\n    box-shadow: rgba(0, 0, 0, 0.02) 0px 1px 3px 0px,\n      rgba(27, 31, 35, 0.15) 0px 0px 0px 1px;\n    &:focus {\n      box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px,\n        rgba(60, 64, 67, 0.15) 0px 2px 6px 2px;\n\n      color: #000;\n    }\n    &::placeholder {\n      font-size: 1.3rem;\n    }\n  }\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nexport const Button = ({ text, children, ...rest }) => {\n  return (\n    <ButtonDefault {...rest}>\n      <span>{text}</span> {children}\n    </ButtonDefault>\n  );\n};\n\nexport default Button;\n\nconst ButtonDefault = styled.button`\n  border: none;\n  color: var(--text-primary);\n  background-color: tomato;\n  padding: 1rem 3rem;\n  font-size: 1.3rem;\n  font-weight: 500;\n  border-radius: 0.5rem;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n\n  &:hover {\n    background-color: #dd5a43;\n    color: #f1f1f1;\n  }\n  &:disabled {\n    background-color: #dd5a43d3;\n    cursor: not-allowed;\n    color: var(--text-primary);\n  }\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst Title = ({ variant = \"h1\", text, style }) => {\n  return (\n    <Container>\n      {variant === (\"h2\" || \"H2\") && <h2 style={style}>{text}</h2>}\n      {variant === (\"h3\" || \"H3\") && <h3 style={style}>{text}</h3>}\n      {variant === (\"h1\" || \"H1\") && <h1 style={style}>{text}</h1>}\n      {variant === (\"h4\" || \"H4\") && <h4 style={style}>{text}</h4>}\n    </Container>\n  );\n};\n\nexport default Title;\n\nconst Container = styled.div`\n  color: var(--text-primary);\n\n  h1 {\n    font-size: 2.4rem;\n  }\n\n  h2 {\n    font-size: 2rem;\n  }\n\n  h3 {\n    font-size: 1.8rem;\n  }\n\n  h4 {\n    font-size: 1.4rem;\n  }\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst ValidationError = ({ message }) => {\n  return (\n    <Container className=\"error\">\n      <span>i</span> {message}\n    </Container>\n  );\n};\n\nexport default ValidationError;\n\nconst Container = styled.div`\n  font-size: 1.1rem;\n  padding: 0.5rem 0;\n  span {\n    font-style: italic;\n    color: tomato;\n    margin-right: 0.3rem;\n    font-weight: 700;\n    font-size: 1.1rem;\n  }\n`;\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}"],"names":["useState","nextRouteIsAdmin","setNextRouteIsAdmin","navigate","useNavigate","redirectPath","useLocation","state","path","useSelector","user","authenticated","role","userInfo","useEffect","includes","Container","FormContainer","text","initialValues","email","password","validationSchema","yup","required","min","onSubmit","values","resetForm","axiox","then","res","status","toast","setTimeout","replace","window","location","reload","catch","err","response","data","message","console","error","label","type","name","placeholder","Message","to","ButtonContainer","styled","props","useField","field","meta","InputGroup","htmlFor","id","touched","children","rest","ButtonDefault","variant","style","className","_assertThisInitialized","self","ReferenceError","_objectWithoutProperties","source","excluded","key","i","target","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call","_objectWithoutPropertiesLoose","sourceKeys","keys","_setPrototypeOf","o","p","setPrototypeOf","__proto__"],"sourceRoot":""}