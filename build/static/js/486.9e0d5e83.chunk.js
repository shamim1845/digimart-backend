"use strict";(self.webpackChunkdigimart_frontend=self.webpackChunkdigimart_frontend||[]).push([[486],{6776:function(n,e,r){var i,t,o=r(168),a=r(885),l=r(2791),s=r(4603),d=r(184),c=void 0;e.Z=function(n){var e=n.setKeyWord,r=n.modalController,i=(0,l.useState)(""),t=(0,a.Z)(i,2),o=t[0],s=t[1],h=(0,l.useState)(!1),v=(0,a.Z)(h,2),g=v[0],f=v[1],x=function(n,e){var r;return function(){for(var i=arguments.length,t=new Array(i),o=0;o<i;o++)t[o]=arguments[o];r&&clearTimeout(r),r=setTimeout((function(){n.apply(c,t)}),e)}}((function(n){e(n)}),500),p=(0,l.useCallback)((function(n){return x(n)}),[]);return(0,d.jsxs)(u,{children:[(0,d.jsx)("h1",{className:"title",children:"Categories"}),(0,d.jsxs)("form",{onSubmit:function(n){return n.preventDefault()},children:[(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"".concat(g?"18":"16"),height:"".concat(g?"18":"16"),fill:"".concat(g?"#000000b2":"#666"),className:"bi bi-search",viewBox:"0 0 16 16",style:{transition:"all 0.1s ease-in-out"},children:(0,d.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})}),(0,d.jsx)("input",{onChange:function(n){s(n.target.value),p(n.target.value)},onFocus:function(){return f(!0)},onBlur:function(){return f(!1)},value:o,type:"text",placeholder:"Search product...",required:!0}),o&&(0,d.jsx)("div",{className:"search_clear",onClick:function(){e(""),s("")},children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-x-lg",viewBox:"0 0 16 16",children:(0,d.jsx)("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"})})})]}),(0,d.jsx)(m,{type:"button",onClick:r,children:"Create"})]})};var u=s.ZP.div(i||(i=(0,o.Z)(["\n  width: 100%;\n  height: 100%;\n  border-radius: 0.5rem;\n  background-color: #fff;\n  padding: 2rem 1.6rem;\n  display: flex;\n  gap: 3rem;\n  align-items: center;\n  box-shadow: rgba(0, 0, 0, 0.116) 1px 2px 7px;\n\n  .title {\n    font-size: 1.4rem;\n    color: var(--text-primary);\n    font-weight: 600;\n  }\n\n  form {\n    width: 100% !important;\n    height: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    gap: 0.5rem;\n    padding: 1rem;\n    box-shadow: rgba(0, 0, 0, 0.178) 0px 0px 3px;\n\n    input {\n      flex: 1;\n      height: 100%;\n      width: 6rem;\n      border: none;\n      padding-left: 1rem;\n      border-radius: 0.5rem 0 0 0.5rem;\n      font-size: 1.4rem;\n      &::placeholder {\n        font-size: 1.3rem;\n      }\n\n      &:focus {\n        outline: none;\n      }\n    }\n    .search_clear {\n      height: 100%;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      margin: 0 1rem;\n      cursor: pointer;\n      &:hover {\n        svg {\n          color: red;\n        }\n      }\n    }\n  }\n"]))),m=s.ZP.button(t||(t=(0,o.Z)(["\n  font-size: 1.3rem;\n  border: none;\n  background-color: var(--bg-primary);\n  padding: 1rem 2rem;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: all 0.5s;\n  &:hover {\n    color: #fff;\n    background-color: #ff6347f6;\n  }\n"])))},8634:function(n,e,r){r.r(e),r.d(e,{default:function(){return Q}});var i,t,o,a,l,s,d,c,u,m,h=r(168),v=r(885),g=r(2791),f=r(4603),x=r(6776),p=r(3222),j=r(703),Z=r(9281),b=r(9836),y=r(6890),w=r(5855),C=r(3994),S=r(3382),k=r(1539),z=(r(2963),r(6960)),_=r(5705),P=r(1089),A=r(1197),E=r(7528),L=r(8361),N=r(184),V=function(n){var e,r=n.onClose,i=n.categoryForEdit;console.log(i);var t=(0,g.useState)(null),o=(0,v.Z)(t,2),a=o[0],l=o[1],s=(0,g.useState)(!1),d=(0,v.Z)(s,2),c=d[0],u=d[1],m=(0,k.pi)(),h=(0,v.Z)(m,2),f=h[0],x=h[1],p=x.data,j=x.isError,Z=x.error,b=x.isLoading,y=x.isSuccess;return(0,g.useEffect)((function(){j&&z.Am.error(null===Z||void 0===Z?void 0:Z.message),y&&(r(),z.Am.success(null===p||void 0===p?void 0:p.message))}),[j,y,null===p||void 0===p?void 0:p.message,null===Z||void 0===Z?void 0:Z.message,r]),(0,N.jsxs)(M,{children:[(0,N.jsx)(L.Z,{variant:"h1",text:"Edit Category"}),(0,N.jsx)(W,{children:(0,N.jsx)(_.J9,{initialValues:{name:null===i||void 0===i?void 0:i.name},validationSchema:P.Ry({name:P.Z_().required("Category name is required.").min(3,"Category name must have at least 3 characters.")}),onSubmit:function(n,e){e.setSubmitting;var r={name:n.name,parent:a?null===a||void 0===a?void 0:a._id:null===i||void 0===i?void 0:i.parent};console.log(r),f({id:null===i||void 0===i?void 0:i._id,category:r})},children:(0,N.jsxs)(_.l0,{children:[(0,N.jsx)(A.Z,{label:"Name",name:"name",type:"text",placeholder:"Enter your category name"}),(0,N.jsx)(H,{children:c?(0,N.jsx)(E.Z,{label:"Parent Category (optional)",category:a,setCategory:l}):(0,N.jsxs)(B,{children:[(0,N.jsx)("label",{children:"Parent Category (optional)"}),(0,N.jsxs)("div",{className:"content",children:[(0,N.jsx)("span",{className:"category",children:null===i||void 0===i||null===(e=i.ancestors[0])||void 0===e?void 0:e.name}),(0,N.jsx)("span",{onClick:function(){return u(!0)},className:"change_category",children:null!==i&&void 0!==i&&i.parent?"change":"add"})]})]})}),(0,N.jsx)("br",{}),(0,N.jsx)(q,{type:"submit",disabled:b,children:"Update"})]})})})]})},M=f.ZP.div(i||(i=(0,h.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  max-width: 800px;\n  margin: 0 auto;\n  background-color: #f2f2f2;\n"]))),W=f.ZP.div(t||(t=(0,h.Z)(["\n  padding: 2rem 2rem;\n  width: 100%;\n"]))),H=f.ZP.div(o||(o=(0,h.Z)([""]))),q=f.ZP.button(a||(a=(0,h.Z)(["\n  font-size: 1.3rem;\n  border: none;\n  background-color: var(--bg-primary);\n  padding: 1rem 2rem;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: all 0.5s;\n  &:hover {\n    color: #fff;\n    background-color: #ff6347f6;\n  }\n"]))),B=f.ZP.div(l||(l=(0,h.Z)(["\n  .content {\n    background: #fff;\n    min-height: 3.5rem;\n    display: flex;\n    gap: 0.5rem;\n    flex-direction: column;\n    align-items: flex-start;\n    padding: 0.8rem 1rem;\n    margin-top: 0.5rem;\n    margin-bottom: 1.5rem;\n\n    .category {\n      text-transform: capitalize;\n      font-size: 1.3rem;\n    }\n    .change_category {\n      font-size: 1rem;\n      color: teal;\n      cursor: pointer;\n      &:hover {\n        text-decoration: underline;\n      }\n    }\n  }\n"]))),F=r(7749),R=r(9993),O=r(2962),T=[{id:1,label:"ID",minWidth:250},{id:2,label:"Name",minWidth:150},{id:3,label:"Slug",minWidth:150},{id:4,label:"Ancestors",minWidth:150},{id:5,label:"Actions",minWidth:150,align:"right"}],D=function(n){var e,r,i=n.keyword,t=g.useState(!1),o=(0,v.Z)(t,2),a=o[0],l=o[1],s=g.useState(null),d=(0,v.Z)(s,2),c=d[0],u=d[1];console.log(i);var m=(0,k.R5)(),h=m.isSuccess,f=m.data,x=(m.isFetching,m.isLoading),_=m.isError,P=m.error;console.log(f);var A=(0,k.l8)(),E=(0,v.Z)(A,2),L=E[0],M=E[1],W=M.isLoading,H=M.isError,q=M.error,B=M.isSuccess,D=M.data;(0,g.useEffect)((function(){H&&z.Am.error((null===q||void 0===q?void 0:q.message)||"Category not deleted."),B&&z.Am.success(null===D||void 0===D?void 0:D.message)}),[null===D||void 0===D?void 0:D.message,null===q||void 0===q?void 0:q.message,H,B]);return console.log({data:f,error:P}),(0,N.jsxs)("div",{children:[x&&(0,N.jsx)(F.Z,{}),_&&(0,N.jsx)(N.Fragment,{children:404===P.status?(0,N.jsx)(O.Z,{style:{justifyContent:"center",marginTop:"3rem"},text:null===(e=P.data)||void 0===e?void 0:e.message}):(0,N.jsx)(R.Z,{style:{justifyContent:"center",marginTop:"3rem"},text:null===P||void 0===P?void 0:P.message})}),!_&&h&&(0,N.jsx)(j.Z,{sx:{width:"100%",overflow:"hidden",margin:"1rem 0"},children:(0,N.jsx)(Z.Z,{sx:{},children:(0,N.jsxs)(b.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,N.jsx)(y.Z,{children:(0,N.jsx)(w.Z,{children:T.map((function(n){return(0,N.jsx)(C.Z,{align:n.align,style:{minWidth:n.minWidth,fontSize:"1.3rem"},children:n.label},n.id)}))})}),(0,N.jsx)(S.Z,{children:h&&(null===f||void 0===f||null===(r=f.categories)||void 0===r?void 0:r.map((function(n){var e,r;return(0,N.jsxs)(w.Z,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,N.jsx)(C.Z,{style:{fontSize:"1.3rem"},children:null===n||void 0===n?void 0:n._id}),(0,N.jsx)(C.Z,{style:{fontSize:"1.3rem"},children:null===n||void 0===n?void 0:n.name}),(0,N.jsx)(C.Z,{style:{fontSize:"1.3rem"},children:null===n||void 0===n?void 0:n.slug}),(0,N.jsx)(C.Z,{style:{fontSize:"1.3rem"},children:(null===n||void 0===n||null===(e=n.ancestors)||void 0===e?void 0:e.length)>0&&(0,N.jsxs)("span",{children:["[",null===n||void 0===n||null===(r=n.ancestors)||void 0===r?void 0:r.map((function(e,r){var i;return r+1===(null===n||void 0===n||null===(i=n.ancestors)||void 0===i?void 0:i.length)?null===e||void 0===e?void 0:e.name:(null===e||void 0===e?void 0:e.name)+", "})),"]"]})}),(0,N.jsxs)(C.Z,{style:{textAlign:"right"},children:[(0,N.jsxs)("svg",{onClick:function(){return e=null===n||void 0===n?void 0:n._id,void(W||L(e));var e},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash delete",viewBox:"0 0 16 16",children:[(0,N.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"}),(0,N.jsx)("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"})]}),(0,N.jsxs)("svg",{onClick:function(){l(!0),u(n)},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-pencil-square edit",viewBox:"0 0 16 16",children:[(0,N.jsx)("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),(0,N.jsx)("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})]})]})]},null===n||void 0===n?void 0:n._id)})))})]})})}),(0,N.jsx)(p.Z,{open:a,onClose:function(){return l(!1)},children:(0,N.jsx)(V,{categoryForEdit:c,onClose:function(){return l(!1)}})})]})},I=function(n){var e=n.onClose,r=(0,g.useState)(null),i=(0,v.Z)(r,2),t=i[0],o=i[1],a=(0,k.m7)(),l=(0,v.Z)(a,2),s=l[0],d=l[1],c=d.data,u=d.isError,m=d.error,h=d.isLoading,f=d.isSuccess;return(0,g.useEffect)((function(){u&&z.Am.error(null===m||void 0===m?void 0:m.message),f&&(e(),z.Am.success(null===c||void 0===c?void 0:c.message))}),[u,f,null===c||void 0===c?void 0:c.message,null===m||void 0===m?void 0:m.message,e]),(0,N.jsxs)(J,{children:[(0,N.jsx)(L.Z,{variant:"h1",text:"Create Categories"}),(0,N.jsx)(K,{children:(0,N.jsx)(_.J9,{initialValues:{name:""},validationSchema:P.Ry({name:P.Z_().required("Category name is required.").min(3,"Category name must have at least 3 characters.")}),onSubmit:function(n,e){e.setSubmitting;var r={name:n.name,parent:t?null===t||void 0===t?void 0:t._id:null};console.log(r),s(r)},children:(0,N.jsxs)(_.l0,{children:[(0,N.jsx)(A.Z,{label:"Name",name:"name",type:"text",placeholder:"Enter your category name"}),(0,N.jsx)(U,{children:(0,N.jsx)(E.Z,{label:"Parent Category (optional)",category:t,setCategory:o})}),(0,N.jsx)("br",{}),(0,N.jsx)(G,{type:"submit",disabled:h,children:"Submit"})]})})})]})},J=f.ZP.div(s||(s=(0,h.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  max-width: 800px;\n  margin: 0 auto;\n  background-color: #f2f2f2;\n"]))),K=f.ZP.div(d||(d=(0,h.Z)(["\n  padding: 2rem 2rem;\n  width: 100%;\n"]))),U=f.ZP.div(c||(c=(0,h.Z)([""]))),G=f.ZP.button(u||(u=(0,h.Z)(["\n  font-size: 1.3rem;\n  border: none;\n  background-color: var(--bg-primary);\n  padding: 1rem 2rem;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: all 0.5s;\n  &:hover {\n    color: #fff;\n    background-color: #ff6347f6;\n  }\n"]))),Q=function(){var n=(0,g.useState)(""),e=(0,v.Z)(n,2),r=e[0],i=e[1],t=(0,g.useState)(!1),o=(0,v.Z)(t,2),a=o[0],l=o[1],s=function(){l((function(n){return!n}))};return(0,N.jsxs)(X,{children:[(0,N.jsx)(x.Z,{setKeyWord:i,modalController:s}),(0,N.jsx)(D,{keyword:r}),(0,N.jsx)(p.Z,{open:a,onClose:s,children:(0,N.jsx)(I,{onClose:s})})]})},X=f.ZP.div(m||(m=(0,h.Z)(["\n  width: 100%;\n\n  .delete {\n    margin-right: 1.5rem;\n    cursor: pointer;\n    &:hover {\n      fill: red;\n    }\n  }\n\n  .edit {\n    cursor: pointer;\n    &:hover {\n      fill: teal;\n    }\n  }\n"])))},2962:function(n,e,r){var i,t=r(168),o=(r(2791),r(4603)),a=r(184);e.Z=function(n){var e=n.style,r=n.text;return(0,a.jsxs)(l,{style:e,children:[(0,a.jsx)("h3",{children:"Oops!"}),(0,a.jsx)("p",{children:r})]})};var l=o.ZP.div(i||(i=(0,t.Z)(["\n  width: 100%;\n  height: 100%;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  align-items: center;\n  justify-content: center;\n\n  h3 {\n    font-size: 2rem;\n  }\n"])))},5545:function(n,e,r){var i=r(2791);e.Z=i.createContext(null)},7326:function(n,e,r){function i(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}r.d(e,{Z:function(){return i}})},4578:function(n,e,r){r.d(e,{Z:function(){return t}});var i=r(9611);function t(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,(0,i.Z)(n,e)}},9611:function(n,e,r){function i(n,e){return i=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},i(n,e)}r.d(e,{Z:function(){return i}})}}]);
//# sourceMappingURL=486.9e0d5e83.chunk.js.map