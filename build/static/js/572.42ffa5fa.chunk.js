"use strict";(self.webpackChunkdigimart_frontend=self.webpackChunkdigimart_frontend||[]).push([[572],{5069:function(n,e,r){r.r(e);var t,i,o,a,s,l,d=r(168),c=r(885),u=r(2791),m=r(4603),f=r(6960),g=r(6871),x=r(5705),h=r(1089),v=r(1197),p=r(7528),y=r(8361),b=r(1539),Z=r(184);e.default=function(){var n=(0,u.useState)(null),e=(0,c.Z)(n,2),r=e[0],t=e[1],i=(0,g.s0)(),o=(0,b.m)(),a=(0,c.Z)(o,2),s=a[0],l=a[1],d=l.data,m=l.isError,O=l.error,P=l.isLoading,_=l.isSuccess;return(0,u.useEffect)((function(){m&&f.Am.error(null===O||void 0===O?void 0:O.message),_&&(f.Am.success(null===d||void 0===d?void 0:d.message),i("/admin/categories"))}),[m,_,null===d||void 0===d?void 0:d.message,null===O||void 0===O?void 0:O.message,i]),(0,Z.jsxs)(j,{children:[(0,Z.jsx)(y.Z,{variant:"h1",text:"Create Categories"}),(0,Z.jsx)(C,{children:(0,Z.jsx)(x.J9,{initialValues:{name:""},validationSchema:h.Ry({name:h.Z_().required("Category name is required.").min(3,"Category name must have at least 3 characters.")}),onSubmit:function(n,e){e.setSubmitting;var t={name:n.name,parent:r?null===r||void 0===r?void 0:r._id:null};console.log(t),s(t)},children:(0,Z.jsxs)(x.l0,{children:[(0,Z.jsx)(v.Z,{label:"Name",name:"name",type:"text",placeholder:"Enter your category name"}),(0,Z.jsx)(S,{children:(0,Z.jsx)(p.Z,{label:"Parent Category (optional)",category:r,setCategory:t})}),(0,Z.jsx)("br",{}),(0,Z.jsx)(w,{type:"submit",disabled:P,children:"Submit"})]})})})]})};var j=m.ZP.div(t||(t=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 2rem;\n  width: 100%;\n  max-width: 800px;\n  margin: 0 auto;\n"]))),C=m.ZP.div(i||(i=(0,d.Z)(["\n  border-radius: 0.5rem;\n  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n  padding: 5rem;\n  width: 100%;\n  @media screen and (max-width: 768px) {\n    /* margin: 0 5rem; */\n  }\n  @media screen and (max-width: 576px) {\n    /* padding: 2rem; */\n  }\n"]))),S=m.ZP.div(o||(o=(0,d.Z)([""]))),w=(m.ZP.div(a||(a=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n"]))),m.ZP.div(s||(s=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n"]))),m.ZP.button(l||(l=(0,d.Z)(["\n  font-size: 1.3rem;\n  border: none;\n  background-color: var(--bg-primary);\n  padding: 1rem 2rem;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: all 0.5s;\n  &:hover {\n    color: #fff;\n    background-color: #ff6347f6;\n  }\n"]))))},9993:function(n,e,r){var t=r(1413),i=(r(2791),r(184));e.Z=function(n){var e=n.text,r=void 0===e?"There was an error!":e,o=n.style;return(0,i.jsx)("div",{style:(0,t.Z)({color:"red"},o),children:r})}},1197:function(n,e,r){var t,i=r(168),o=r(1413),a=r(885),s=r(5987),l=r(5705),d=r(4603),c=r(3242),u=r(184),m=["label"];e.Z=function(n){var e=n.label,r=(0,s.Z)(n,m),t=(0,l.U$)(r),i=(0,a.Z)(t,2),d=i[0],g=i[1];return(0,u.jsxs)(f,{children:[(0,u.jsx)("label",{htmlFor:r.id||r.name,children:e}),(0,u.jsx)("input",(0,o.Z)((0,o.Z)({},d),r)),g.touched&&g.error&&(0,u.jsx)(c.Z,{message:g.error})]})};var f=d.ZP.div(t||(t=(0,i.Z)(["\n  margin-bottom: 1.5rem;\n  label {\n    color: var(--text-secondary);\n    font-size: 1.3rem;\n  }\n  input {\n    color: var(--text-secondary);\n    width: 100%;\n    height: 3.5rem;\n    padding: 0 1rem;\n    margin-top: 0.5rem;\n    border: none;\n    outline: none;\n    &:focus {\n      box-shadow: rgba(50, 50, 93, 0.25) 0px 2px 5px -1px,\n        rgba(0, 0, 0, 0.3) 0px 1px 3px -1px;\n      color: #000;\n    }\n    &::placeholder {\n      font-size: 1.3rem;\n    }\n  }\n"])))},7528:function(n,e,r){var t,i=r(168),o=r(2982),a=r(885),s=r(2791),l=r(1539),d=r(4603),c=r(9993),u=r(3242),m=r(184);e.Z=function(n){var e,r=n.label,t=n.category,i=n.setCategory,d=n.categoryError,g=n.setCategoryError,x=(0,s.useState)(""),h=(0,a.Z)(x,2),v=h[0],p=h[1],y=(0,s.useState)([]),b=(0,a.Z)(y,2),Z=b[0],j=b[1],C=(0,l.Q)(),S=C.data,w=C.isLoading,O=C.isError,P=C.error,_=C.isSuccess,E=function(n,e){0===e&&p(n.target.value);var r=JSON.parse(n.target.value),t=r._id,a=r.slug,s=r.children;if(!a)return i(null),j([]),void p(JSON.stringify({}));i({_id:t,slug:a}),j((function(n){var r=n.slice(0,e);return s?[].concat((0,o.Z)(r),[s]):r}))};return(0,m.jsxs)(f,{children:[(0,m.jsx)("label",{children:r}),w&&(0,m.jsx)("div",{children:"Loading..."}),O&&(0,m.jsx)(c.Z,{text:P.message}),_&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("select",{value:v,onChange:function(n){return E(n,0)},onBlur:function(){!t&&g&&g("Category is required.")},children:[(0,m.jsx)("option",{value:JSON.stringify({}),children:"Select a category"}),null===S||void 0===S||null===(e=S.category)||void 0===e?void 0:e.map((function(n){return(0,m.jsx)("option",{value:JSON.stringify(n),children:n.name},n._id)}))]}),null===Z||void 0===Z?void 0:Z.map((function(n,e){return(0,m.jsxs)("select",{onChange:function(n){return E(n,e+1)},children:[(0,m.jsx)("option",{value:JSON.stringify({}),children:"Select a sub-category"}),null===n||void 0===n?void 0:n.map((function(n){return(0,m.jsx)("option",{value:JSON.stringify(n),children:n.name},n._id)}))]},e)}))]}),d&&(0,m.jsx)(u.Z,{message:d})]})};var f=d.ZP.div(t||(t=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 1.5rem;\n  label {\n    font-size: 1.3rem;\n    color: var(--text-secondary);\n  }\n  select {\n    background: #fff;\n    color: var(--text-secondary);\n    margin-top: 0.5rem;\n    width: 100%;\n    height: 3.5rem;\n    padding: 0 1rem;\n    border: none;\n    outline: none;\n    font-size: 1.3rem;\n    &:focus {\n      box-shadow: rgba(50, 50, 93, 0.25) 0px 2px 5px -1px,\n        rgba(0, 0, 0, 0.3) 0px 1px 3px -1px;\n      color: #000;\n    }\n    &::placeholder {\n      font-size: 1.2rem;\n    }\n  }\n"])))},8361:function(n,e,r){var t,i=r(168),o=(r(2791),r(4603)),a=r(184);e.Z=function(n){var e=n.variant,r=void 0===e?"h1":e,t=n.text;return(0,a.jsxs)(s,{children:["h1"===r&&(0,a.jsx)("h1",{children:t}),"h2"===r&&(0,a.jsx)("h2",{children:t}),"h3"===r&&(0,a.jsx)("h3",{children:t}),"h4"===r&&(0,a.jsx)("h4",{children:t}),"h5"===r&&(0,a.jsx)("h5",{children:t})]})};var s=o.ZP.div(t||(t=(0,i.Z)(["\n  width: 100%;\n  text-align: center;\n"])))},3242:function(n,e,r){var t,i=r(168),o=(r(2791),r(4603)),a=r(184);e.Z=function(n){var e=n.message;return(0,a.jsxs)(s,{className:"error",children:[(0,a.jsx)("span",{children:"i"})," ",e]})};var s=o.ZP.div(t||(t=(0,i.Z)(["\n  font-size: 1.1rem;\n  padding: 0.5rem 0;\n  span {\n    font-style: italic;\n    color: tomato;\n    margin-right: 0.3rem;\n    font-weight: 700;\n    font-size: 1.1rem;\n  }\n"])))},1539:function(n,e,r){r.d(e,{Q:function(){return i},m:function(){return o}});var t=r(4473).Z.injectEndpoints({endpoints:function(n){return{getAllCategory:n.query({query:function(){return{url:"categories"}},providesTags:["Categories"]}),createCategory:n.mutation({query:function(n){return{url:"admin/categories",method:"POST",body:n}},invalidatesTags:["Categories"]})}}}),i=t.useGetAllCategoryQuery,o=t.useCreateCategoryMutation},7326:function(n,e,r){function t(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}r.d(e,{Z:function(){return t}})},5987:function(n,e,r){r.d(e,{Z:function(){return i}});var t=r(3366);function i(n,e){if(null==n)return{};var r,i,o=(0,t.Z)(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}},9611:function(n,e,r){function t(n,e){return t=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},t(n,e)}r.d(e,{Z:function(){return t}})}}]);
//# sourceMappingURL=572.42ffa5fa.chunk.js.map