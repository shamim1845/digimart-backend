{"version":3,"file":"static/js/572.42ffa5fa.chunk.js","mappings":"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","sources":["components/admin/categories/CreateCategories.jsx","components/utils/fetchUtils/Error.jsx","components/utils/formik/TextInput.jsx","components/utils/reUseableComponents/CategorySelector.jsx","components/utils/reUseableComponents/Title.jsx","components/utils/validationUtils/ValidationError.jsx","redux/api/category/categoryAPI.js","../javascript/esm|/media/shamim/Document/MERN ECOMMERCR PROJECT/my-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../javascript/esm|/media/shamim/Document/MERN ECOMMERCR PROJECT/my-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../javascript/esm|/media/shamim/Document/MERN ECOMMERCR PROJECT/my-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { toast } from \"react-toastify\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Form, Formik } from \"formik\";\nimport * as yup from \"yup\";\nimport TextInput from \"../../utils/formik/TextInput\";\nimport CategorySelector from \"../../utils/reUseableComponents/CategorySelector\";\nimport Title from \"../../utils/reUseableComponents/Title\";\nimport { useCreateCategoryMutation } from \"../../../redux/api/category/categoryAPI\";\n\nconst CreateCategories = () => {\n  // => state\n  const [category, setCategory] = useState(null);\n\n  const navigate = useNavigate();\n\n  //   =>Create category mutation\n  const [createCategory, { data, isError, error, isLoading, isSuccess }] =\n    useCreateCategoryMutation();\n\n  // => Effect for show Error and Success message\n  useEffect(() => {\n    if (isError) toast.error(error?.message);\n    if (isSuccess) {\n      toast.success(data?.message);\n      navigate(\"/admin/categories\");\n    }\n  }, [isError, isSuccess, data?.message, error?.message, navigate]);\n\n  return (\n    <CreateCategoriesContainer>\n      <Title variant=\"h1\" text=\"Create Categories\" />\n\n      <Content>\n        <Formik\n          initialValues={{\n            name: \"\",\n          }}\n          validationSchema={yup.object({\n            name: yup\n              .string()\n              .required(\"Category name is required.\")\n              .min(3, \"Category name must have at least 3 characters.\"),\n          })}\n          onSubmit={(values, { setSubmitting }) => {\n            const new_category = {\n              name: values.name,\n              parent: category ? category?._id : null,\n            };\n            console.log(new_category);\n            createCategory(new_category);\n          }}\n        >\n          <Form>\n            <TextInput\n              label=\"Name\"\n              name=\"name\"\n              type=\"text\"\n              placeholder=\"Enter your category name\"\n            />\n\n            <CategoriesContainer>\n              <CategorySelector\n                label=\"Parent Category (optional)\"\n                category={category}\n                setCategory={setCategory}\n              />\n            </CategoriesContainer>\n\n            <br />\n            <Button type=\"submit\" disabled={isLoading}>\n              Submit\n            </Button>\n          </Form>\n        </Formik>\n      </Content>\n    </CreateCategoriesContainer>\n  );\n};\n\nexport default CreateCategories;\n\nconst CreateCategoriesContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 2rem;\n  width: 100%;\n  max-width: 800px;\n  margin: 0 auto;\n`;\n\nconst Content = styled.div`\n  border-radius: 0.5rem;\n  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n  padding: 5rem;\n  width: 100%;\n  @media screen and (max-width: 768px) {\n    /* margin: 0 5rem; */\n  }\n  @media screen and (max-width: 576px) {\n    /* padding: 2rem; */\n  }\n`;\n\nconst CategoriesContainer = styled.div``;\n\nconst DescriptionContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n\nconst ProductImage = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;\n\nconst Button = styled.button`\n  font-size: 1.3rem;\n  border: none;\n  background-color: var(--bg-primary);\n  padding: 1rem 2rem;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: all 0.5s;\n  &:hover {\n    color: #fff;\n    background-color: #ff6347f6;\n  }\n`;\n","import React from \"react\";\n\nconst Error = ({ text = \"There was an error!\", style }) => {\n  return <div style={{ color: \"red\", ...style }}>{text}</div>;\n};\n\nexport default Error;\n","import { useField } from \"formik\";\nimport styled from \"styled-components\";\nimport ValidationError from \"../validationUtils/ValidationError\";\n\nconst TextInput = ({ label, ...props }) => {\n  // useField() returns [formik.getFieldProps(), formik.getFieldMeta()]\n  // which we can spread on <input>. We can use field meta to show an error\n  // message if the field is invalid and it has been touched (i.e. visited)\n  const [field, meta] = useField(props);\n  return (\n    <InputGroup>\n      <label htmlFor={props.id || props.name}>{label}</label>\n      <input {...field} {...props} />\n      {meta.touched && meta.error && <ValidationError message={meta.error} />}\n    </InputGroup>\n  );\n};\n\nexport default TextInput;\n\nconst InputGroup = styled.div`\n  margin-bottom: 1.5rem;\n  label {\n    color: var(--text-secondary);\n    font-size: 1.3rem;\n  }\n  input {\n    color: var(--text-secondary);\n    width: 100%;\n    height: 3.5rem;\n    padding: 0 1rem;\n    margin-top: 0.5rem;\n    border: none;\n    outline: none;\n    &:focus {\n      box-shadow: rgba(50, 50, 93, 0.25) 0px 2px 5px -1px,\n        rgba(0, 0, 0, 0.3) 0px 1px 3px -1px;\n      color: #000;\n    }\n    &::placeholder {\n      font-size: 1.3rem;\n    }\n  }\n`;\n","import React, { useState } from \"react\";\nimport { useGetAllCategoryQuery } from \"../../../redux/api/category/categoryAPI\";\nimport styled from \"styled-components\";\nimport Error from \"../fetchUtils/Error\";\nimport ValidationError from \"../validationUtils/ValidationError\";\n\nconst CategorySelector = ({\n  label,\n  category,\n  setCategory,\n  categoryError,\n  setCategoryError,\n}) => {\n  const [parentCatValue, setParentCatValue] = useState(\"\");\n  const [subCategory, setSubCategory] = useState([]);\n  const { data, isLoading, isError, error, isSuccess } =\n    useGetAllCategoryQuery();\n\n  const handleChange = (e, depthLevel) => {\n    if (depthLevel === 0) {\n      setParentCatValue(e.target.value);\n    }\n\n    const { _id, slug, children } = JSON.parse(e.target.value);\n\n    if (!slug) {\n      setCategory(null);\n      setSubCategory([]);\n      setParentCatValue(JSON.stringify({}));\n      return;\n    }\n\n    setCategory({ _id, slug });\n    setSubCategory((prev) => {\n      const prevCopy = prev.slice(0, depthLevel);\n      if (!children) return prevCopy;\n      return [...prevCopy, children];\n    });\n  };\n\n  return (\n    <Container>\n      <label>{label}</label>\n\n      {isLoading && <div>Loading...</div>}\n      {isError && <Error text={error.message} />}\n\n      {isSuccess && (\n        <>\n          <select\n            value={parentCatValue}\n            onChange={(e) => handleChange(e, 0)}\n            onBlur={() => {\n              !category &&\n                setCategoryError &&\n                setCategoryError(\"Category is required.\");\n            }}\n          >\n            <option value={JSON.stringify({})}>Select a category</option>\n            {data?.category?.map((cat) => (\n              <option key={cat._id} value={JSON.stringify(cat)}>\n                {cat.name}\n              </option>\n            ))}\n          </select>\n          {subCategory?.map((category, index) => (\n            <select key={index} onChange={(e) => handleChange(e, index + 1)}>\n              <option value={JSON.stringify({})}>Select a sub-category</option>\n              {category?.map((cat) => (\n                <option key={cat._id} value={JSON.stringify(cat)}>\n                  {cat.name}\n                </option>\n              ))}\n            </select>\n          ))}\n        </>\n      )}\n      {categoryError && <ValidationError message={categoryError} />}\n    </Container>\n  );\n};\n\nexport default CategorySelector;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 1.5rem;\n  label {\n    font-size: 1.3rem;\n    color: var(--text-secondary);\n  }\n  select {\n    background: #fff;\n    color: var(--text-secondary);\n    margin-top: 0.5rem;\n    width: 100%;\n    height: 3.5rem;\n    padding: 0 1rem;\n    border: none;\n    outline: none;\n    font-size: 1.3rem;\n    &:focus {\n      box-shadow: rgba(50, 50, 93, 0.25) 0px 2px 5px -1px,\n        rgba(0, 0, 0, 0.3) 0px 1px 3px -1px;\n      color: #000;\n    }\n    &::placeholder {\n      font-size: 1.2rem;\n    }\n  }\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst Title = ({ variant = \"h1\", text }) => {\n  return (\n    <Container>\n      {variant === (\"h1\" || \"H1\") && <h1>{text}</h1>}\n      {variant === (\"h2\" || \"H2\") && <h2>{text}</h2>}\n      {variant === (\"h3\" || \"H3\") && <h3>{text}</h3>}\n      {variant === (\"h4\" || \"H4\") && <h4>{text}</h4>}\n      {variant === (\"h5\" || \"H5\") && <h5>{text}</h5>}\n    </Container>\n  );\n};\n\nexport default Title;\n\nconst Container = styled.div`\n  width: 100%;\n  text-align: center;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst ValidationError = ({ message }) => {\n  return (\n    <Container className=\"error\">\n      <span>i</span> {message}\n    </Container>\n  );\n};\n\nexport default ValidationError;\n\nconst Container = styled.div`\n  font-size: 1.1rem;\n  padding: 0.5rem 0;\n  span {\n    font-style: italic;\n    color: tomato;\n    margin-right: 0.3rem;\n    font-weight: 700;\n    font-size: 1.1rem;\n  }\n`;\n","import apiCreator from \"../apiCreator\";\n\nconst categoryAPI = apiCreator.injectEndpoints({\n  endpoints: (builder) => ({\n    getAllCategory: builder.query({\n      query: () => ({\n        url: `categories`,\n      }),\n      providesTags: [\"Categories\"],\n    }),\n    createCategory: builder.mutation({\n      query: (category) => ({\n        url: \"admin/categories\",\n        method: \"POST\",\n        body: category,\n      }),\n      invalidatesTags: [\"Categories\"],\n    }),\n  }),\n});\n\nexport const { useGetAllCategoryQuery, useCreateCategoryMutation } =\n  categoryAPI;\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}"],"names":["useState","category","setCategory","navigate","useNavigate","useCreateCategoryMutation","createCategory","data","isError","error","isLoading","isSuccess","useEffect","toast","message","CreateCategoriesContainer","variant","text","Content","initialValues","name","validationSchema","yup","required","min","onSubmit","values","setSubmitting","new_category","parent","_id","console","log","label","type","placeholder","CategoriesContainer","Button","disabled","styled","style","color","props","useField","field","meta","InputGroup","htmlFor","id","touched","categoryError","setCategoryError","parentCatValue","setParentCatValue","subCategory","setSubCategory","useGetAllCategoryQuery","handleChange","e","depthLevel","target","value","JSON","parse","slug","children","stringify","prev","prevCopy","slice","Container","onChange","onBlur","map","cat","index","className","categoryAPI","apiCreator","endpoints","builder","getAllCategory","query","url","providesTags","mutation","method","body","invalidatesTags","_assertThisInitialized","self","ReferenceError","_objectWithoutProperties","source","excluded","key","i","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call","_setPrototypeOf","o","p","setPrototypeOf","__proto__"],"sourceRoot":""}